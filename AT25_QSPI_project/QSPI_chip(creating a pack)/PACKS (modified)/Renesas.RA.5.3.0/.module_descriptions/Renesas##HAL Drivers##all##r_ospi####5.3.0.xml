<?xml version="1.0" ?>
<raModuleDescription>
    <config id="config.driver.ospi" path="driver/r_ospi_cfg.h" version="0">
        <property default="config.driver.ospi.param_checking_enable.bsp" display="Parameter Checking" id="config.driver.ospi.param_checking_enable" description="If selected code for parameter checking is included in the build.">
            <option display="Default (BSP)" id="config.driver.ospi.param_checking_enable.bsp" value="(BSP_CFG_PARAM_CHECKING_ENABLE)"/>
            <option display="Enabled" id="config.driver.ospi.param_checking_enable.enabled" value="(1)"/>
            <option display="Disabled" id="config.driver.ospi.param_checking_enable.disabled" value="(0)"/>
        </property>
        <property default="config.driver.ospi.dmac_support.disabled" display="DMAC Support" id= "config.driver.ospi.dmac_support" description="Enable DMAC support for the OSPI module.">
            <option display="Enable" id="config.driver.ospi.dmac_support.enabled" value="(1)" />
            <option display="Disable" id="config.driver.ospi.dmac_support.disabled" value="(0)" />
        </property>
        <content>
            #ifdef __cplusplus
            extern "C" {
            #endif

            #define OSPI_CFG_PARAM_CHECKING_ENABLE ${config.driver.ospi.param_checking_enable}
            #define OSPI_CFG_DMAC_SUPPORT_ENABLE   ${config.driver.ospi.dmac_support}

            #ifdef __cplusplus
            }
            #endif
        </content>
    </config>
    <module config="config.driver.ospi" display="Storage|${module.driver.ospi.name} OSPI Flash (r_ospi)" id="module.driver.ospi_on_ospi" version="1" url="group___o_s_p_i.html">
        <constraint display="Unique name required for each instance">
            "${interface.driver.ospi.${module.driver.ospi.name}}" === "1"
        </constraint>
        <constraint display="Requires OSPI peripheral">
          "${interface.mcu.ospi.external}" === "1"
        </constraint>
        <constraint display="Requires OCTASPICLK to be enabled on the Clocks tab.">
             testExists("${board.clock.peripheral.ospi}") &amp;&amp; (Number("${board.clock.peripheral.ospi}") &gt; 0)
        </constraint>
        <!-- 3B addressing only permitted in SPI mode -->
        <constraint display="3 Address Bytes can be selected only with SPI mode"> ((("${module.driver.ospi.spi_protocol}" != "module.driver.ospi.spi_protocol.protocol_sopi") &amp;&amp; ("${module.driver.ospi.spi_protocol}" != "module.driver.ospi.spi_protocol.protocol_dopi")) || ("${module.driver.ospi.address_bytes}" != "module.driver.ospi.address_bytes.address_bytes_3"))</constraint>
        <!-- DRCSTR DOPI Setting prohibited for 5 (4.5) and 6 (5.5) clock cycles -->
        <constraint display="Memory Mapped Pull-up Timing: Set a minumum of 6.5 clock cycles for DOPI mode"> (("${module.driver.ospi.spi_protocol}" != "module.driver.ospi.spi_protocol.protocol_dopi") || (("${module.driver.ospi.mmr_pull_up_timing}" != "module.driver.ospi.mmr_pull_up_timing.clocks_5") &amp;&amp; ("${module.driver.ospi.mmr_pull_up_timing}" != "module.driver.ospi.mmr_pull_up_timing.clocks_6")))</constraint>
        <!-- DCSTR DOPI Setting prohibited for 5 (4.5) and 6 (5.5) clock cycles -->
        <constraint display="Pull-up Timing: Set a minumum of 6.5 clock cycles for DOPI mode"> (("${module.driver.ospi.spi_protocol}" != "module.driver.ospi.spi_protocol.protocol_dopi") || (("${module.driver.ospi.pull_up_timing}" != "module.driver.ospi.pull_up_timing.clocks_5") &amp;&amp; ("${module.driver.ospi.pull_up_timing}" != "module.driver.ospi.pull_up_timing.clocks_6")))</constraint>
        <!-- A non-zero data_latch_delay_setting enables autocalibration which requires a valid device address to store preamble pattern  -->
        <!-- Do not add OPI restriction here to allow user to start in SPI, write the preamble pattern and then switch to OPI -->
        <constraint display="Auto-calibration is enabled, enter valid OctaFlash address used for calibration">(("${module.driver.ospi.data_latch_delay_setting}" != 0x00) || ("${module.driver.ospi.auto_callibration_address}" != 0x00))</constraint>
        <constraint display="DMAC support must be enabled to use DMAC.">
            ("${config.driver.ospi.dmac_support}" === "config.driver.ospi.dmac_support.enabled") || !testExists("${module.driver.ospi_on_ospi.requires.transfer::module.driver.transfer.name}")
        </constraint>
        <constraint display="DMAC Driver must be inlcuded if DMAC Support is enabled.">
            ("${config.driver.ospi.dmac_support}" === "config.driver.ospi.dmac_support.disabled") || testExists("${module.driver.ospi_on_ospi.requires.transfer::module.driver.transfer.name}")
        </constraint>
        <requires id="module.driver.ospi_on_ospi.requires.ospi" interface="interface.mcu.ospi.external" visible="false" display="Requires OSPI peripheral"/>
        <requires id="module.driver.ospi_on_ospi.requires.transfer" interface="interface.driver.transfer_on_dmac" display="Add DMAC Driver for Transmission [Recommended but optional]" find="false" optional="true">
            <override property="module.driver.transfer.mode" value="module.driver.transfer.mode.mode_block"/>
            <override property="module.driver.transfer.size" value="module.driver.transfer.size.size_1_byte"/>
            <override property="module.driver.transfer.dest_addr_mode" value="module.driver.transfer.dest_addr_mode.addr_mode_incremented"/>
            <override property="module.driver.transfer.src_addr_mode" value="module.driver.transfer.src_addr_mode.addr_mode_incremented"/>
            <override property="module.driver.transfer.repeat_area" value="module.driver.transfer.repeat_area.repeat_area_source"/>
            <override property="module.driver.transfer.p_dest" value="NULL"/>
            <override property="module.driver.transfer.p_src" value="NULL"/>
            <override property="module.driver.transfer.length" value="${module.driver.ospi.page_size_bytes}"/>
            <override property="module.driver.transfer.num_blocks" value="1"/>
            <override property="module.driver.transfer.activation_event" value="enum.elc_none"/>
            <override property="module.driver.transfer.offset" value="0"/>
            <override property="module.driver.transfer.src.buffer" value="0"/>
        </requires>
        <provides interface="interface.driver.ospi" />
        <provides interface="interface.driver.ospi_on_ospi" />
        <provides interface="interface.driver.ospi.${module.driver.ospi.name}" />
        <provides interface="interface.driver.spi_flash" />
        <property default="g_ospi${_instance}" display="General|Name" id="module.driver.ospi.name" description="Module name.">
            <constraint display="Name must be a valid C symbol">testSymbol("${module.driver.ospi.name}")</constraint>
        </property>
        <property default="0" display="General|Channel" id="module.driver.ospi.channel" description="Specify the OSPI chip select line to use.">
            <constraint display="Channel should be 0 or 1">testInteger("${module.driver.ospi.channel}")  &amp;&amp; (("${module.driver.ospi.channel}" &gt;= 0) &amp;&amp; ("${module.driver.ospi.channel}" &lt; 2))</constraint>
        </property>
        <property default="0x04000000" display="General|Flash Size" id="module.driver.ospi.flash_size" description="Specify the OctaFlash size in bytes.">
            <constraint display="Must be an integer greater than 0 with maximum configurable value of 0x3FFFFFFF">testInteger("${module.driver.ospi.flash_size}") &amp;&amp; ${module.driver.ospi.flash_size} &gt; 0 &amp;&amp; ${module.driver.ospi.flash_size} &lt;= 0x3FFFFFFF</constraint>
        </property>
        <property default="module.driver.ospi.spi_protocol.protocol_spi" display="General|SPI Protocol" id="module.driver.ospi.spi_protocol" description="Select the initial SPI protocol.  SPI protocol can be changed on the OctaFlash using @ref R_OSPI_DirectTransfer().">
            <option display="SPI" id="module.driver.ospi.spi_protocol.protocol_spi" value="SPI_FLASH_PROTOCOL_EXTENDED_SPI"/>
            <option display="Single data rate OPI" id="module.driver.ospi.spi_protocol.protocol_sopi" value="SPI_FLASH_PROTOCOL_SOPI"/>
            <option display="Dual data rate OPI" id="module.driver.ospi.spi_protocol.protocol_dopi" value="SPI_FLASH_PROTOCOL_DOPI"/>
        </property>
        <property default="module.driver.ospi.address_bytes.address_bytes_4" display="General|Address Bytes" id="module.driver.ospi.address_bytes" description="Select the number of address bytes.">
            <option display="3" id="module.driver.ospi.address_bytes.address_bytes_3" value="SPI_FLASH_ADDRESS_BYTES_3"/>
            <option display="4" id="module.driver.ospi.address_bytes.address_bytes_4" value="SPI_FLASH_ADDRESS_BYTES_4"/>
        </property>
        <property default="256" id="module.driver.ospi.page_size_bytes" description="The maximum number of bytes allowed for a single continuous write.">
            <constraint display="Must be an integer greater than 0">testInteger("${module.driver.ospi.page_size_bytes}") &amp;&amp; ${module.driver.ospi.page_size_bytes} &gt; 0</constraint>
        </property>
        <property default="0x80" display="OPI Mode|Auto-Calibration|Data latching delay" id="module.driver.ospi.data_latch_delay_setting" description="Set this to 0 to enable auto-calibration. 0x80 is the default value calculated at 3.3V and 25°C">
            <constraint display="Must be a valid non-negative integer with maximum configurable value of 0xFF">testInteger("${module.driver.ospi.data_latch_delay_setting}") &amp;&amp; ${module.driver.ospi.data_latch_delay_setting} &gt;= 0 &amp;&amp; ${module.driver.ospi.data_latch_delay_setting} &lt;= 0xFF</constraint>
        </property>
        <property default="0x00" display="OPI Mode|Auto-Calibration|Auto-Calibration Address" id="module.driver.ospi.auto_callibration_address" description="Set the address of the read/write destination to be performed for auto-calibration.">
            <constraint display="Must be a valid non-negative integer with maximum configurable value of 0xFFFFFFFF">testInteger("${module.driver.ospi.auto_callibration_address}") &amp;&amp; ${module.driver.ospi.auto_callibration_address} &gt;= 0 &amp;&amp; ${module.driver.ospi.auto_callibration_address} &lt;= 0xFFFFFFFF</constraint>
        </property>
        <property default="0x12" display="SPI Mode|Command Definitions|Page Program Command" id="module.driver.ospi.spi_page_program_command" description="The command to program a page in SPI mode.">
            <constraint display="Must be a 8-bit OSPI Page Program Command under SPI Mode|Command Definitions">(testInteger("${module.driver.ospi.spi_page_program_command}") &amp;&amp; ${module.driver.ospi.spi_page_program_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.spi_page_program_command} &lt;= 0xFF)</constraint>
        </property>
        <property default="0x13" display="SPI Mode|Command Definitions|Read Command" id="module.driver.ospi.spi_read_command" description="The command to read in SPI mode.">
            <constraint display="Must be a 8-bit OSPI Read Command under SPI Mode|Command Definitions">(testInteger("${module.driver.ospi.spi_read_command}") &amp;&amp; ${module.driver.ospi.spi_read_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.spi_read_command} &lt;= 0xFF)</constraint>
        </property>
        <property default="0x06" display="SPI Mode|Command Definitions|Write Enable Command" id="module.driver.ospi.spi_write_enable_command" description="The command to enable write in SPI mode.">
            <constraint display="Must be a 16-bit OSPI Write Enable Command under SPI Mode|Command Definitions">(testInteger("${module.driver.ospi.spi_write_enable_command}") &amp;&amp; ${module.driver.ospi.spi_write_enable_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.spi_write_enable_command} &lt;= 0XFFFF)</constraint>
        </property>
        <property default="0x05" display="SPI Mode|Command Definitions|Status Command" id="module.driver.ospi.spi_status_command" description="The command to query the status of a write or erase command in SPI mode.">
            <constraint display="Must be a 16-bit OSPI Status Command under SPI Mode|Command Definitions">(testInteger("${module.driver.ospi.spi_status_command}") &amp;&amp; ${module.driver.ospi.spi_status_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.spi_status_command} &lt;= 0XFFFF)</constraint>
        </property>
        <property default="0x12ED" display="OPI Mode|Command Definitions|Page Program Command" id="module.driver.ospi.opi_page_program_command" description="The command to program a page in OPI mode.">
            <constraint display="Must be a 16-bit OSPI Page Program Command under OPI Mode|Command Definitions">(testInteger("${module.driver.ospi.opi_page_program_command}") &amp;&amp; ${module.driver.ospi.opi_page_program_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.opi_page_program_command} &lt;= 0xFFFF)</constraint>
        </property>
        <property default="0xEC13" display="OPI Mode|Command Definitions|Read Command" id="module.driver.ospi.sopi_read_command" description="The command to read in SOPI mode (8READ).">
            <constraint display="Must be a 16-bit OSPI Read Command under OPI Mode|Command Definitions">(testInteger("${module.driver.ospi.sopi_read_command}") &amp;&amp; ${module.driver.ospi.sopi_read_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.sopi_read_command} &lt;= 0xFFFF)</constraint>
        </property>
        <property default="0xEE11" display="OPI Mode|Command Definitions|Dual Read Command" id="module.driver.ospi.dopi_read_command" description="The command to read in DOPI mode (8DTRD).">
            <constraint display="Must be a 16-bit OSPI Dual Read Command under OPI Mode|Command Definitions">(testInteger("${module.driver.ospi.dopi_read_command}") &amp;&amp; ${module.driver.ospi.dopi_read_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.dopi_read_command} &lt;= 0xFFFF)</constraint>
        </property>
        <property default="0x06F9" display="OPI Mode|Command Definitions|Write Enable Command" id="module.driver.ospi.opi_write_enable_command" description="The command to enable write in OPI mode.">
            <constraint display="Must be a 16-bit OSPI Write Enable Command under OPI Mode|Command Definitions">(testInteger("${module.driver.ospi.opi_write_enable_command}") &amp;&amp; ${module.driver.ospi.opi_write_enable_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.opi_write_enable_command} &lt;= 0xFFFF)</constraint>
        </property>
        <property default="0x05FA" display="OPI Mode|Command Definitions|Status Command" id="module.driver.ospi.opi_status_command" description="The command to query the status of a write or erase command in OPI mode.">
            <constraint display="Must be a 16-bit OSPI Status Command under OPI Mode|Command Definitions">(testInteger("${module.driver.ospi.opi_status_command}") &amp;&amp; ${module.driver.ospi.opi_status_command} &gt;= 0 &amp;&amp; ${module.driver.ospi.opi_status_command} &lt;= 0xFFFF)</constraint>
        </property>
        <property default="2" display="OPI Mode|Command Length Bytes" id="module.driver.ospi.opi_command_length" description="Command length in bytes">
            <constraint display="Must be an integer between 1 and 2">testInteger("${module.driver.ospi.opi_command_length}") &amp;&amp; ${module.driver.ospi.opi_command_length} &gt;= 1 &amp;&amp; ${module.driver.ospi.opi_command_length} &lt;= 2</constraint>
        </property>
        <property default="10" display="OPI Mode|Memory Read Dummy Cycles" id="module.driver.ospi.mem_read_dummy_cycles" description="Memory read dummy cycles">
            <constraint display="Must be an integer between 6 and 10">testInteger("${module.driver.ospi.mem_read_dummy_cycles}") &amp;&amp; ${module.driver.ospi.mem_read_dummy_cycles} &gt;= 6 &amp;&amp; ${module.driver.ospi.mem_read_dummy_cycles} &lt;= 10</constraint>
        </property>
        <property default="4" display="OPI Mode|Status Read Dummy Cycles" id="module.driver.ospi.status_read_dummy_cycles" description="Status read dummy cycles">
            <constraint display="Must be an integer between 0 and 255">testInteger("${module.driver.ospi.status_read_dummy_cycles}") &amp;&amp; ${module.driver.ospi.status_read_dummy_cycles} &gt;= 0 &amp;&amp; ${module.driver.ospi.status_read_dummy_cycles} &lt;= 255</constraint>
        </property>
        <property default="9" display="OPI Mode|OM_DQS Enable Counter|SOPI" id="module.driver.ospi.om_dqs_enable_counter_sopi" description="OM_DQS enable counter for memory access. Setting for SOPI mode.">
            <constraint display="Must be an integer between 0 and 255">testInteger("${module.driver.ospi.om_dqs_enable_counter_sopi}") &amp;&amp; ${module.driver.ospi.om_dqs_enable_counter_sopi} &gt;= 0 &amp;&amp; ${module.driver.ospi.om_dqs_enable_counter_sopi} &lt;= 255</constraint>
        </property>
        <property default="6" display="OPI Mode|OM_DQS Enable Counter|DOPI" id="module.driver.ospi.om_dqs_enable_counter_dopi" description="OM_DQS enable counter for memory access. Setting for DOPI mode.">
            <constraint display="Must be an integer between 0 and 255">testInteger("${module.driver.ospi.om_dqs_enable_counter_dopi}") &amp;&amp; ${module.driver.ospi.om_dqs_enable_counter_dopi} &gt;= 0 &amp;&amp; ${module.driver.ospi.om_dqs_enable_counter_dopi} &lt;= 255</constraint>
        </property>
        <property default="module.driver.ospi.dopi_byte_order.byte0_byte1_byte2_byte3" display="OPI Mode|DOPI Byte Order" id="module.driver.ospi.dopi_byte_order" description="Byte order on the external bus">
            <option display="Byte0, Byte1, Byte2, Byte3" id="module.driver.ospi.dopi_byte_order.byte0_byte1_byte2_byte3" value="OSPI_DOPI_BYTE_ORDER_0123"/>
            <option display="Byte1, Byte0, Byte3, Byte2" id="module.driver.ospi.dopi_byte_order.byte1_byte0_byte3_byte2" value="OSPI_DOPI_BYTE_ORDER_1032"/>
        </property>
        <property default="0x21DE" display="Common Command Definitions|Sector Erase Command" id="module.driver.ospi.sector_erase_command" description="The command to erase a sector. Set Sector Erase Size to 0 if unused.">
            <constraint display="Must be a value greater than or equal to 0">(testInteger("${module.driver.ospi.sector_erase_command}") &amp;&amp; ${module.driver.ospi.sector_erase_command} &gt;= 0)</constraint>
        </property>
        <property default="0xDC23" display="Common Command Definitions|Block Erase Command" id="module.driver.ospi.block_erase_command" description="The command to erase a block.  Set Block Erase Size to 0 if unused.">
            <constraint display="Must be a value greater than or equal to 0">(testInteger("${module.driver.ospi.block_erase_command}") &amp;&amp; ${module.driver.ospi.block_erase_command} &gt;= 0)</constraint>
        </property>
        <property default="0xC738" display="Common Command Definitions|Chip Erase Command" id="module.driver.ospi.chip_erase_command" description="The command to erase the entire chip.  Set Chip Erase Command to 0 if unused.">
            <constraint display="Must be a value greater than or equal to 0">(testInteger("${module.driver.ospi.chip_erase_command}") &amp;&amp; ${module.driver.ospi.chip_erase_command} &gt;= 0)</constraint>
        </property>
        <property default="0" display="Common Command Definitions|Write Status Bit" id="module.driver.ospi.write_status_bit" description="Which bit contains the write in progress status returned from the Write Status Command.">
            <constraint display="Must be an integer between 0 and 7">testInteger("${module.driver.ospi.write_status_bit}") &amp;&amp; ${module.driver.ospi.write_status_bit} &gt;= 0 &amp;&amp; ${module.driver.ospi.write_status_bit} &lt; 8</constraint>
        </property>
        <property default="1" display="Common Command Definitions|Write Enable Bit" id="module.driver.ospi.write_enable_bit" description="Which bit contains the write enable status returned from the Write Enable Command.">
            <constraint display="Must be an integer between 0 and 7">testInteger("${module.driver.ospi.write_enable_bit}") &amp;&amp; ${module.driver.ospi.write_enable_bit} &gt;= 0 &amp;&amp; ${module.driver.ospi.write_enable_bit} &lt; 8</constraint>
        </property>
        <property default="4096" display="Common Command Definitions|Sector Erase Size" id="module.driver.ospi.sector_erase_size" description="The sector erase size.  Set Sector Erase Size to 0 if Sector Erase is not supported.">
            <constraint display="Must be an integer greater than or equal to 0">testInteger("${module.driver.ospi.sector_erase_size}") &amp;&amp; ${module.driver.ospi.sector_erase_size} &gt;= 0</constraint>
        </property>
        <property default="65536" display="Common Command Definitions|Block Erase Size" id="module.driver.ospi.block_erase_size" description="The block erase size.  Set Block Erase Size to 0 if Block Erase is not supported.">
            <constraint display="Must be an integer greater than or equal to 0">testInteger("${module.driver.ospi.block_erase_size}") &amp;&amp; ${module.driver.ospi.block_erase_size} &gt;= 0</constraint>
        </property>
        <property default="100" display="General|Single Continuous Mode|Read Idle Time" id="module.driver.ospi.scm_read_idle_time" description="Specify the read idle time.">
            <constraint display="Must be an integer greater than 0 with maximum configurable value of 127">(testInteger("${module.driver.ospi.scm_read_idle_time}") &amp;&amp; ${module.driver.ospi.scm_read_idle_time} &gt; 0 &amp;&amp; ${module.driver.ospi.scm_read_idle_time} &lt;= 127)</constraint>
        </property>
        <property default="100" display="General|Single Continuous Mode|Write Idle Time" id="module.driver.ospi.scm_write_idle_time" description="Specify the write idle time.">
            <constraint display="Must be an integer greater than 0 with maximum configurable value of 127">(testInteger("${module.driver.ospi.scm_write_idle_time}") &amp;&amp; ${module.driver.ospi.scm_write_idle_time} &gt; 0 &amp;&amp; ${module.driver.ospi.scm_write_idle_time} &lt;= 127)</constraint>
        </property>
        <property default="module.driver.ospi.mmr_command_interval_clocks.clocks_2" display="Chip Select Timing Setting|Memory Mapped Read Command Interval" id="module.driver.ospi.mmr_command_interval_clocks" description="Memory mapped read command execution interval setting in OCTACLK units">
            <option display="2" id="module.driver.ospi.mmr_command_interval_clocks.clocks_2" value="OSPI_COMMAND_INTERVAL_CLOCKS_2"/>
            <option display="5" id="module.driver.ospi.mmr_command_interval_clocks.clocks_5" value="OSPI_COMMAND_INTERVAL_CLOCKS_5"/>
            <option display="7" id="module.driver.ospi.mmr_command_interval_clocks.clocks_7" value="OSPI_COMMAND_INTERVAL_CLOCKS_7"/>
            <option display="9" id="module.driver.ospi.mmr_command_interval_clocks.clocks_9" value="OSPI_COMMAND_INTERVAL_CLOCKS_9"/>
            <option display="11" id="module.driver.ospi.mmr_command_interval_clocks.clocks_11" value="OSPI_COMMAND_INTERVAL_CLOCKS_11"/>
            <option display="13" id="module.driver.ospi.mmr_command_interval_clocks.clocks_13" value="OSPI_COMMAND_INTERVAL_CLOCKS_13"/>
            <option display="15" id="module.driver.ospi.mmr_command_interval_clocks.clocks_15" value="OSPI_COMMAND_INTERVAL_CLOCKS_15"/>
            <option display="17" id="module.driver.ospi.mmr_command_interval_clocks.clocks_17" value="OSPI_COMMAND_INTERVAL_CLOCKS_17"/>
        </property>
        <property default="module.driver.ospi.mmw_command_interval_clocks.clocks_2" display="Chip Select Timing Setting|Memory Mapped Write Command Interval" id="module.driver.ospi.mmw_command_interval_clocks" description="Memory mapped write command execution interval setting in OCTACLK units">
            <option display="2" id="module.driver.ospi.mmw_command_interval_clocks.clocks_2" value="OSPI_COMMAND_INTERVAL_CLOCKS_2"/>
            <option display="5" id="module.driver.ospi.mmw_command_interval_clocks.clocks_5" value="OSPI_COMMAND_INTERVAL_CLOCKS_5"/>
            <option display="7" id="module.driver.ospi.mmw_command_interval_clocks.clocks_7" value="OSPI_COMMAND_INTERVAL_CLOCKS_7"/>
            <option display="9" id="module.driver.ospi.mmw_command_interval_clocks.clocks_9" value="OSPI_COMMAND_INTERVAL_CLOCKS_9"/>
            <option display="11" id="module.driver.ospi.mmw_command_interval_clocks.clocks_11" value="OSPI_COMMAND_INTERVAL_CLOCKS_11"/>
            <option display="13" id="module.driver.ospi.mmw_command_interval_clocks.clocks_13" value="OSPI_COMMAND_INTERVAL_CLOCKS_13"/>
            <option display="15" id="module.driver.ospi.mmw_command_interval_clocks.clocks_15" value="OSPI_COMMAND_INTERVAL_CLOCKS_15"/>
            <option display="17" id="module.driver.ospi.mmw_command_interval_clocks.clocks_17" value="OSPI_COMMAND_INTERVAL_CLOCKS_17"/>
        </property>
        <property default="module.driver.ospi.command_interval_clocks.clocks_2" display="Chip Select Timing Setting|Command Interval" id="module.driver.ospi.command_interval_clocks" description="Command execution interval setting in OCTACLK units">
            <option display="2" id="module.driver.ospi.command_interval_clocks.clocks_2" value="OSPI_COMMAND_INTERVAL_CLOCKS_2"/>
            <option display="5" id="module.driver.ospi.command_interval_clocks.clocks_5" value="OSPI_COMMAND_INTERVAL_CLOCKS_5"/>
            <option display="7" id="module.driver.ospi.command_interval_clocks.clocks_7" value="OSPI_COMMAND_INTERVAL_CLOCKS_7"/>
            <option display="9" id="module.driver.ospi.command_interval_clocks.clocks_9" value="OSPI_COMMAND_INTERVAL_CLOCKS_9"/>
            <option display="11" id="module.driver.ospi.command_interval_clocks.clocks_11" value="OSPI_COMMAND_INTERVAL_CLOCKS_11"/>
            <option display="13" id="module.driver.ospi.command_interval_clocks.clocks_13" value="OSPI_COMMAND_INTERVAL_CLOCKS_13"/>
            <option display="15" id="module.driver.ospi.command_interval_clocks.clocks_15" value="OSPI_COMMAND_INTERVAL_CLOCKS_15"/>
            <option display="17" id="module.driver.ospi.command_interval_clocks.clocks_17" value="OSPI_COMMAND_INTERVAL_CLOCKS_17"/>
        </property>
        <property default="module.driver.ospi.mmr_pull_up_timing.clocks_5" display="Chip Select Timing Setting|Memory Mapped Read Pull-up Timing" id="module.driver.ospi.mmr_pull_up_timing" description="Memory mapped read signal pull-up timing setting in OCTACLK units">
            <option display="5 SPI/SOPI" id="module.driver.ospi.mmr_pull_up_timing.clocks_5" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_5"/>
            <option display="6 SPI/SOPI" id="module.driver.ospi.mmr_pull_up_timing.clocks_6" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_6"/>
            <option display="7 SPI/SOPI, 6.5 DOPI" id="module.driver.ospi.mmr_pull_up_timing.clocks_7" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_7"/>
            <option display="8 SPI/SOPI, 7.5 DOPI" id="module.driver.ospi.mmr_pull_up_timing.clocks_8" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_8"/>
            <option display="9 SPI/SOPI, 8.5 DOPI" id="module.driver.ospi.mmr_pull_up_timing.clocks_9" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_9"/>
        </property>
        <property default="module.driver.ospi.mmw_pull_up_timing.clocks_2" display="Chip Select Timing Setting|Memory Mapped Write Pull-up Timing" id="module.driver.ospi.mmw_pull_up_timing" description="Memory mapped write signal pull-up timing setting in OCTACLK units">
            <option display="2 SPI/SOPI, 1.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_2" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_2"/>
            <option display="3 SPI/SOPI, 2.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_3" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_3"/>
            <option display="4 SPI/SOPI, 3.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_4" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_4"/>
            <option display="5 SPI/SOPI, 4.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_5" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_5"/>
            <option display="6 SPI/SOPI, 5.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_6" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_6"/>
            <option display="7 SPI/SOPI, 6.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_7" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_7"/>
            <option display="8 SPI/SOPI, 7.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_8" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_8"/>
            <option display="9 SPI/SOPI, 8.5 DOPI" id="module.driver.ospi.mmw_pull_up_timing.clocks_9" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_9"/>
        </property>
        <property default="module.driver.ospi.pull_up_timing.clocks_5" display="Chip Select Timing Setting|Pull-up Timing" id="module.driver.ospi.pull_up_timing" description="Signal pull-up timing setting in OCTACLK units">
            <option display="5 SPI/SOPI" id="module.driver.ospi.pull_up_timing.clocks_5" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_5"/>
            <option display="6 SPI/SOPI" id="module.driver.ospi.pull_up_timing.clocks_6" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_6"/>
            <option display="7 SPI/SOPI, 6.5 DOPI" id="module.driver.ospi.pull_up_timing.clocks_7" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_7"/>
            <option display="8 SPI/SOPI, 7.5 DOPI" id="module.driver.ospi.pull_up_timing.clocks_8" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_8"/>
            <option display="9 SPI/SOPI, 8.5 DOPI" id="module.driver.ospi.pull_up_timing.clocks_9" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_9"/>
        </property>
        <property default="module.driver.ospi.pull_down_timing.clocks_3" display="Chip Select Timing Setting|Memory Mapped Read Pull-down Timing" id="module.driver.ospi.mmr_pull_down_timing" description="Memory mapped read signal pull-down timing setting in OCTACLK units">
            <option display="3 SPI/SOPI, 2.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_3" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_3"/>
            <option display="4 SPI/SOPI, 3.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_4" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_4"/>
            <option display="5 SPI/SOPI, 4.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_5" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_5"/>
        </property>
        <property default="module.driver.ospi.pull_down_timing.clocks_3" display="Chip Select Timing Setting|Memory Mapped Write Pull-down Timing" id="module.driver.ospi.mmw_pull_down_timing" description="Memory mapped write signal pull-down timing setting in OCTACLK units">
            <option display="3 SPI/SOPI, 2.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_3" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_3"/>
            <option display="4 SPI/SOPI, 3.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_4" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_4"/>
            <option display="5 SPI/SOPI, 4.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_5" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_5"/>
        </property>
        <property default="module.driver.ospi.pull_down_timing.clocks_3" display="Chip Select Timing Setting|Pull-down Timing" id="module.driver.ospi.pull_down_timing" description="Signal pull-down timing setting in OCTACLK units">
            <option display="3 SPI/SOPI, 2.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_3" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_3"/>
            <option display="4 SPI/SOPI, 3.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_4" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_4"/>
            <option display="5 SPI/SOPI, 4.5 DOPI" id="module.driver.ospi.pull_down_timing.clocks_5" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_5"/>
        </property>
        <peripheral name="OSPI Flash" component="ospi0" />
        <!-- For MCU's whose pinmapping files have been generated with MPC Designer Tool -->
        <peripheral name="OSPI Flash" component="ospi" />
        <header>
            #if OSPI_CFG_DMAC_SUPPORT_ENABLE
              #include "r_dmac.h"
            #endif
            extern const spi_flash_instance_t ${module.driver.ospi.name};
            extern ospi_instance_ctrl_t ${module.driver.ospi.name}_ctrl;
            extern const spi_flash_cfg_t ${module.driver.ospi.name}_cfg;
        </header>
        <includes>
            #include &quot;r_ospi.h&quot;
            #include &quot;r_spi_flash_api.h&quot;
        </includes>
        <declarations>


ospi_instance_ctrl_t ${module.driver.ospi.name}_ctrl;

static const spi_flash_erase_command_t ${module.driver.ospi.name}_erase_command_list[] =
{
#if ${module.driver.ospi.sector_erase_size} > 0
    {.command = ${module.driver.ospi.sector_erase_command},     .size = ${module.driver.ospi.sector_erase_size} },
#endif
#if ${module.driver.ospi.block_erase_size} > 0
    {.command = ${module.driver.ospi.block_erase_command},      .size = ${module.driver.ospi.block_erase_size}  },
#endif
#if ${module.driver.ospi.chip_erase_command} > 0
    {.command = ${module.driver.ospi.chip_erase_command},       .size  = SPI_FLASH_ERASE_SIZE_CHIP_ERASE        },
#endif
};

static ospi_timing_setting_t ${module.driver.ospi.name}_timing_settings =
{
    .command_to_command_interval = ${module.driver.ospi.command_interval_clocks},
    .cs_pullup_lag               = ${module.driver.ospi.pull_up_timing},
    .cs_pulldown_lead            = ${module.driver.ospi.pull_down_timing}
};


static ospi_timing_setting_t ${module.driver.ospi.name}_write_settings =
{
    .command_to_command_interval = ${module.driver.ospi.mmw_command_interval_clocks},
    .cs_pullup_lag               = ${module.driver.ospi.mmw_pull_up_timing},
    .cs_pulldown_lead            = ${module.driver.ospi.mmw_pull_down_timing}
};

static ospi_timing_setting_t ${module.driver.ospi.name}_read_settings =
{
    .command_to_command_interval = ${module.driver.ospi.mmr_command_interval_clocks},
    .cs_pullup_lag               = ${module.driver.ospi.mmr_pull_up_timing},
    .cs_pulldown_lead            = ${module.driver.ospi.mmr_pull_down_timing}
};

const ospi_opi_command_set_t ${module.driver.ospi.name}_opi_command_set =
{
    .read_command         = ${module.driver.ospi.sopi_read_command},
    .dual_read_command    = ${module.driver.ospi.dopi_read_command},
    .page_program_command = ${module.driver.ospi.opi_page_program_command},
    .write_enable_command = ${module.driver.ospi.opi_write_enable_command},
    .status_command       = ${module.driver.ospi.opi_status_command},
    .command_bytes        = ${module.driver.ospi.opi_command_length}
};
static const ospi_extended_cfg_t ${module.driver.ospi.name}_extended_cfg =
{
    .channel     = (ospi_device_number_t)${module.driver.ospi.channel},
    .memory_size = ${module.driver.ospi.flash_size}U,
    .memory_type = OSPI_DEVICE_FLASH,
    .data_latch_delay_clocks                 = ${module.driver.ospi.data_latch_delay_setting},
    .om_dqs_enable_counter_dopi              = ${module.driver.ospi.om_dqs_enable_counter_dopi},
    .om_dqs_enable_counter_sopi              = ${module.driver.ospi.om_dqs_enable_counter_sopi},
    .single_continuous_mode_read_idle_time   = ${module.driver.ospi.scm_read_idle_time},
    .single_continuous_mode_write_idle_time  = ${module.driver.ospi.scm_write_idle_time},
    .p_mem_mapped_read_timing_settings       = &amp;${module.driver.ospi.name}_read_settings,
    .p_mem_mapped_write_timing_settings      = &amp;${module.driver.ospi.name}_write_settings,
    .p_timing_settings                       = &amp;${module.driver.ospi.name}_timing_settings,
    .p_opi_commands                          = &amp;${module.driver.ospi.name}_opi_command_set,
    .opi_mem_read_dummy_cycles               = ${module.driver.ospi.mem_read_dummy_cycles},
    .opi_mem_write_dummy_cycles              = 0, /* Unused by OSPI Flash */
    .opi_status_read_dummy_cycles            = ${module.driver.ospi.status_read_dummy_cycles},
    .p_autocalibration_preamble_pattern_addr = (uint8_t *) ${module.driver.ospi.auto_callibration_address},
    .dopi_byte_order                         = ${module.driver.ospi.dopi_byte_order},
    .ram_chip_select_max_period_setting      = 0, /* Unused by OSPI Flash */
#if OSPI_CFG_DMAC_SUPPORT_ENABLE
    .p_lower_lvl_transfer   = &amp;${module.driver.ospi_on_ospi.requires.transfer::module.driver.transfer.name}
#endif
};
const spi_flash_cfg_t ${module.driver.ospi.name}_cfg =
{
    .spi_protocol                = ${module.driver.ospi.spi_protocol},
    .read_mode                   = SPI_FLASH_READ_MODE_STANDARD, /* Unused by OSPI Flash */
    .address_bytes               = ${module.driver.ospi.address_bytes},
    .dummy_clocks                = SPI_FLASH_DUMMY_CLOCKS_DEFAULT, /* Unused by OSPI Flash */
    .page_program_address_lines  = (spi_flash_data_lines_t)0U, /* Unused by OSPI Flash */
    .write_status_bit            = ${module.driver.ospi.write_status_bit},
    .write_enable_bit            = ${module.driver.ospi.write_enable_bit},
    .page_size_bytes             = ${module.driver.ospi.page_size_bytes},
    .page_program_command        = ${module.driver.ospi.spi_page_program_command},
    .write_enable_command        = ${module.driver.ospi.spi_write_enable_command},
    .status_command              = ${module.driver.ospi.spi_status_command},
    .read_command                = ${module.driver.ospi.spi_read_command},
    .xip_enter_command           = 0U, /* Unused by OSPI Flash */
    .xip_exit_command            = 0U, /* Unused by OSPI Flash */
    .erase_command_list_length   = sizeof(${module.driver.ospi.name}_erase_command_list) / sizeof(${module.driver.ospi.name}_erase_command_list[0]),
    .p_erase_command_list        = &amp;${module.driver.ospi.name}_erase_command_list[0],
    .p_extend                    = &amp;${module.driver.ospi.name}_extended_cfg,
};
/** This structure encompasses everything that is needed to use an instance of this interface. */
const spi_flash_instance_t ${module.driver.ospi.name} =
{
    .p_ctrl = &amp;${module.driver.ospi.name}_ctrl,
    .p_cfg =  &amp;${module.driver.ospi.name}_cfg,
    .p_api =  &amp;g_ospi_on_spi_flash,
};
        </declarations>
        <api configurable="true">
            <file>ra/fsp/inc/instances/r_ospi.h</file>
            <file>ra/fsp/inc/api/r_spi_flash_api.h</file>
            <file>ra/fsp/inc/api/r_transfer_api.h</file>
        </api>
    </module>

    <!-- Module Descriptor for OctaRAM -->
    <module config="config.driver.ospi" display="Storage|${module.driver.ospi_ram.name} OSPI RAM (r_ospi)" id="module.driver.ospi_ram_on_ospi" version="1" url="group___o_s_p_i.html">
        <constraint display="Unique name required for each instance">
            "${interface.driver.ospi_ram.${module.driver.ospi_ram.name}}" === "1"
        </constraint>
        <constraint display="Requires OSPI peripheral">
          "${interface.mcu.ospi.external}" === "1"
        </constraint>
        <constraint display="Requires OCTASPICLK to be enabled on the Clocks tab.">
             testExists("${board.clock.peripheral.ospi}") &amp;&amp; (Number("${board.clock.peripheral.ospi}") &gt; 0)
        </constraint>
        <constraint display="DMAC support must be disabled when OSPI RAM is used standalone (OSPI Flash is not used).">
            (("${config.driver.ospi.dmac_support}" === "config.driver.ospi.dmac_support.disabled") || "${interface.driver.ospi_on_ospi}" === "1")
        </constraint>
        <constraint display="Auto-calibration is enabled, enter valid OctaRAM address used for calibration">(("${module.driver.ospi_ram.data_latch_delay_setting}" != 0x00) || ("${module.driver.ospi_ram.auto_callibration_address}" != 0x00))</constraint>
        <requires id="module.driver.ospi_ram_on_ospi.requires.ospi" interface="interface.mcu.ospi.external" visible="false" display="Requires OSPI peripheral"/>
        <provides interface="interface.driver.ospi_ram" />
        <provides interface="interface.driver.ospi_ram_on_ospi" />
        <provides interface="interface.driver.ospi_ram.${module.driver.ospi_ram.name}" />
        <property default="g_ospi_ram${_instance}" display="General|Name" id="module.driver.ospi_ram.name" description="Module name.">
            <constraint display="Name must be a valid C symbol">testSymbol("${module.driver.ospi_ram.name}")</constraint>
        </property>
        <property default="0" display="General|Channel" id="module.driver.ospi_ram.channel" description="Specify the OSPI chip select line to use.">
            <constraint display="Channel should be 0 or 1 [Channel 0 recommended]">testInteger("${module.driver.ospi_ram.channel}")  &amp;&amp; (("${module.driver.ospi_ram.channel}" &gt;= 0) &amp;&amp; ("${module.driver.ospi_ram.channel}" &lt; 2))</constraint>
        </property>
        <property default="0x00800000" display="General|RAM Size" id="module.driver.ospi_ram.ram_size" description="Specify the OctaRam size in bytes.">
            <constraint display="Must be an integer greater than 0 with maximum configurable value of 0x00800000">testInteger("${module.driver.ospi_ram.ram_size}") &amp;&amp; ${module.driver.ospi_ram.ram_size} &gt; 0 &amp;&amp; ${module.driver.ospi_ram.ram_size} &lt;= 0x00800000</constraint>
        </property>
        <property default="module.driver.ospi_ram.spi_protocol.protocol_dopi" display="General|SPI Protocol" id="module.driver.ospi_ram.spi_protocol" description="Select the initial SPI protocol. OctaRAM only supports DOPI mode.">
            <option display="Dual data rate OPI" id="module.driver.ospi_ram.spi_protocol.protocol_dopi" value="SPI_FLASH_PROTOCOL_DOPI"/>
        </property>
        <property default="module.driver.ospi_ram.address_bytes.address_bytes_4" display="General|Address Bytes" id="module.driver.ospi_ram.address_bytes" description="Select the number of address bytes. OctaRAM only supports 4 byte addresses in DOPI mode.">
            <option display="4" id="module.driver.ospi_ram.address_bytes.address_bytes_4" value="SPI_FLASH_ADDRESS_BYTES_4"/>
        </property>
        <property default="16" id="module.driver.ospi_ram.single_continuous_size_bytes" description="The maximum number of bytes allowed for a single continuous write.">
            <constraint display="Must be an integer greater than 0">testInteger("${module.driver.ospi_ram.single_continuous_size_bytes}") &amp;&amp; ${module.driver.ospi_ram.single_continuous_size_bytes} &gt; 0</constraint>
        </property>
        <property default="0x80" display="Auto-Calibration|Data latching delay" id="module.driver.ospi_ram.data_latch_delay_setting" description="Set this to 0 to enable auto-calibration. 0x80 is the default value calculated at 3.3V and 25°C">
            <constraint display="Must be a valid non-negative integer with maximum configurable value of 0xFF">testInteger("${module.driver.ospi_ram.data_latch_delay_setting}") &amp;&amp; ${module.driver.ospi_ram.data_latch_delay_setting} &gt;= 0 &amp;&amp; ${module.driver.ospi_ram.data_latch_delay_setting} &lt;= 0xFF</constraint>
        </property>
        <property default="0x00" display="Auto-Calibration|Auto-Calibration Address" id="module.driver.ospi_ram.auto_callibration_address" description="Set the address of the read/write destination to be performed for auto-calibration.">
            <constraint display="Must be a valid non-negative integer with maximum configurable value of 0xFFFFFFFF">testInteger("${module.driver.ospi_ram.auto_callibration_address}") &amp;&amp; ${module.driver.ospi_ram.auto_callibration_address} &gt;= 0 &amp;&amp; ${module.driver.ospi_ram.auto_callibration_address} &lt;= 0xFFFFFFFF</constraint>
        </property>
        <property default="0xA000" display="Command Definitions|Memory Read Command" id="module.driver.ospi_ram.dopi_read_command" description="The command to read in DOPI mode.">
            <constraint display="Must be a 16-bit OSPI Dual Read Command under Command Definitions">(testInteger("${module.driver.ospi_ram.dopi_read_command}") &amp;&amp; ${module.driver.ospi_ram.dopi_read_command} &gt;= 0 &amp;&amp; ${module.driver.ospi_ram.dopi_read_command} &lt;= 0xFFFF)</constraint>
        </property>
        <property default="0x2000" display="Command Definitions|Memory Write Command" id="module.driver.ospi_ram.dopi_write_command" description="The command to write in DOPI mode.">
            <constraint display="Must be a 16-bit OSPI Write Command under Command Definitions">(testInteger("${module.driver.ospi_ram.dopi_write_command}") &amp;&amp; ${module.driver.ospi_ram.dopi_write_command} &gt;= 0 &amp;&amp; ${module.driver.ospi_ram.dopi_write_command} &lt;= 0xFFFF)</constraint>
        </property>
        <property default="2" display="Command Length Bytes" id="module.driver.ospi_ram.opi_command_length" description="Command length in bytes">
            <constraint display="Must be an integer between 1 and 2">testInteger("${module.driver.ospi_ram.opi_command_length}") &amp;&amp; ${module.driver.ospi_ram.opi_command_length} &gt;= 1 &amp;&amp; ${module.driver.ospi_ram.opi_command_length} &lt;= 2</constraint>
        </property>
        <property default="4" display="Memory Read Dummy Cycles" id="module.driver.ospi_ram.mem_read_dummy_cycles" description="Memory read dummy cycles">
            <constraint display="Must be an integer between 3 and 8">testInteger("${module.driver.ospi_ram.mem_read_dummy_cycles}") &amp;&amp; ${module.driver.ospi_ram.mem_read_dummy_cycles} &gt;= 3 &amp;&amp; ${module.driver.ospi_ram.mem_read_dummy_cycles} &lt;= 8</constraint>
        </property>
        <property default="4" display="Memory Write Dummy Cycles" id="module.driver.ospi_ram.mem_write_dummy_cycles" description="Memory write dummy cycles">
            <constraint display="Must be an integer between 3 and 8">testInteger("${module.driver.ospi_ram.mem_write_dummy_cycles}") &amp;&amp; ${module.driver.ospi_ram.mem_write_dummy_cycles} &gt;= 3 &amp;&amp; ${module.driver.ospi_ram.mem_write_dummy_cycles} &lt;= 8</constraint>
        </property>
        <property default="module.driver.ospi_ram.dopi_byte_order.byte1_byte0_byte3_byte2" display="DOPI Byte Order" id="module.driver.ospi_ram.dopi_byte_order" description="Byte order on the external bus">
            <option display="Byte0, Byte1, Byte2, Byte3" id="module.driver.ospi_ram.dopi_byte_order.byte0_byte1_byte2_byte3" value="OSPI_DOPI_BYTE_ORDER_0123"/>
            <option display="Byte1, Byte0, Byte3, Byte2" id="module.driver.ospi_ram.dopi_byte_order.byte1_byte0_byte3_byte2" value="OSPI_DOPI_BYTE_ORDER_1032"/>
        </property>
        <property default="127" display="General|Single Continuous Mode|Read Idle Time" id="module.driver.ospi_ram.scm_read_idle_time" description="Specify the read idle time.">
            <constraint display="Must be an integer greater than 0 with maximum configurable value of 127">(testInteger("${module.driver.ospi_ram.scm_read_idle_time}") &amp;&amp; ${module.driver.ospi_ram.scm_read_idle_time} &gt; 0 &amp;&amp; ${module.driver.ospi_ram.scm_read_idle_time} &lt;= 127)</constraint>
        </property>
        <property default="127" display="General|Single Continuous Mode|Write Idle Time" id="module.driver.ospi_ram.scm_write_idle_time" description="Specify the write idle time.">
            <constraint display="Must be an integer greater than 0 with maximum configurable value of 127">(testInteger("${module.driver.ospi_ram.scm_write_idle_time}") &amp;&amp; ${module.driver.ospi_ram.scm_write_idle_time} &gt; 0 &amp;&amp; ${module.driver.ospi_ram.scm_write_idle_time} &lt;= 127)</constraint>
        </property>
        <property default="3" display="OM_DQS Enable Counter|DOPI" id="module.driver.ospi_ram.om_dqs_enable_counter_dopi" description="OM_DQS enable counter for memory access. Setting for DOPI mode.">
            <constraint display="Must be an integer between 0 and 255">testInteger("${module.driver.ospi_ram.om_dqs_enable_counter_dopi}") &amp;&amp; ${module.driver.ospi_ram.om_dqs_enable_counter_dopi} &gt;= 0 &amp;&amp; ${module.driver.ospi_ram.om_dqs_enable_counter_dopi} &lt;= 255</constraint>
        </property>
        <property default="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_2" display="Chip Select Timing Setting|Memory Mapped Read Command Interval" id="module.driver.ospi_ram.mmr_command_interval_clocks" description="Memory mapped read command execution interval setting in OCTACLK units">
            <option display="2" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_2" value="OSPI_COMMAND_INTERVAL_CLOCKS_2"/>
            <option display="5" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_5" value="OSPI_COMMAND_INTERVAL_CLOCKS_5"/>
            <option display="7" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_7" value="OSPI_COMMAND_INTERVAL_CLOCKS_7"/>
            <option display="9" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_9" value="OSPI_COMMAND_INTERVAL_CLOCKS_9"/>
            <option display="11" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_11" value="OSPI_COMMAND_INTERVAL_CLOCKS_11"/>
            <option display="13" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_13" value="OSPI_COMMAND_INTERVAL_CLOCKS_13"/>
            <option display="15" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_15" value="OSPI_COMMAND_INTERVAL_CLOCKS_15"/>
            <option display="17" id="module.driver.ospi_ram.mmr_command_interval_clocks.clocks_17" value="OSPI_COMMAND_INTERVAL_CLOCKS_17"/>
        </property>
        <property default="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_2" display="Chip Select Timing Setting|Memory Mapped Write Command Interval" id="module.driver.ospi_ram.mmw_command_interval_clocks" description="Memory mapped write command execution interval setting in OCTACLK units">
            <option display="2" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_2" value="OSPI_COMMAND_INTERVAL_CLOCKS_2"/>
            <option display="5" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_5" value="OSPI_COMMAND_INTERVAL_CLOCKS_5"/>
            <option display="7" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_7" value="OSPI_COMMAND_INTERVAL_CLOCKS_7"/>
            <option display="9" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_9" value="OSPI_COMMAND_INTERVAL_CLOCKS_9"/>
            <option display="11" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_11" value="OSPI_COMMAND_INTERVAL_CLOCKS_11"/>
            <option display="13" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_13" value="OSPI_COMMAND_INTERVAL_CLOCKS_13"/>
            <option display="15" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_15" value="OSPI_COMMAND_INTERVAL_CLOCKS_15"/>
            <option display="17" id="module.driver.ospi_ram.mmw_command_interval_clocks.clocks_17" value="OSPI_COMMAND_INTERVAL_CLOCKS_17"/>
        </property>
        <property default="module.driver.ospi_ram.command_interval_clocks.clocks_2" display="Chip Select Timing Setting|Command Interval" id="module.driver.ospi_ram.command_interval_clocks" description="Command execution interval setting in OCTACLK units">
            <option display="2" id="module.driver.ospi_ram.command_interval_clocks.clocks_2" value="OSPI_COMMAND_INTERVAL_CLOCKS_2"/>
            <option display="5" id="module.driver.ospi_ram.command_interval_clocks.clocks_5" value="OSPI_COMMAND_INTERVAL_CLOCKS_5"/>
            <option display="7" id="module.driver.ospi_ram.command_interval_clocks.clocks_7" value="OSPI_COMMAND_INTERVAL_CLOCKS_7"/>
            <option display="9" id="module.driver.ospi_ram.command_interval_clocks.clocks_9" value="OSPI_COMMAND_INTERVAL_CLOCKS_9"/>
            <option display="11" id="module.driver.ospi_ram.command_interval_clocks.clocks_11" value="OSPI_COMMAND_INTERVAL_CLOCKS_11"/>
            <option display="13" id="module.driver.ospi_ram.command_interval_clocks.clocks_13" value="OSPI_COMMAND_INTERVAL_CLOCKS_13"/>
            <option display="15" id="module.driver.ospi_ram.command_interval_clocks.clocks_15" value="OSPI_COMMAND_INTERVAL_CLOCKS_15"/>
            <option display="17" id="module.driver.ospi_ram.command_interval_clocks.clocks_17" value="OSPI_COMMAND_INTERVAL_CLOCKS_17"/>
        </property>
        <property default="module.driver.ospi_ram.mmr_pull_up_timing.clocks_7" display="Chip Select Timing Setting|Memory Mapped Read Pull-up Timing" id="module.driver.ospi_ram.mmr_pull_up_timing" description="Memory mapped read signal pull-up timing setting in OCTACLK units">
            <option display="6.5 DOPI" id="module.driver.ospi_ram.mmr_pull_up_timing.clocks_7" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_7"/>
            <option display="7.5 DOPI" id="module.driver.ospi_ram.mmr_pull_up_timing.clocks_8" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_8"/>
            <option display="8.5 DOPI" id="module.driver.ospi_ram.mmr_pull_up_timing.clocks_9" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_9"/>
        </property>
        <property default="module.driver.ospi_ram.mmw_pull_up_timing.clocks_2" display="Chip Select Timing Setting|Memory Mapped Write Pull-up Timing" id="module.driver.ospi_ram.mmw_pull_up_timing" description="Memory mapped write signal pull-up timing setting in OCTACLK units">
            <option display="1.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_2" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_2"/>
            <option display="2.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_3" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_3"/>
            <option display="3.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_4" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_4"/>
            <option display="4.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_5" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_5"/>
            <option display="5.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_6" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_6"/>
            <option display="6.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_7" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_7"/>
            <option display="7.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_8" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_8"/>
            <option display="8.5 DOPI" id="module.driver.ospi_ram.mmw_pull_up_timing.clocks_9" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_9"/>
        </property>
        <property default="module.driver.ospi_ram.pull_up_timing.clocks_7" display="Chip Select Timing Setting|Pull-up Timing" id="module.driver.ospi_ram.pull_up_timing" description="Signal pull-up timing setting in OCTACLK units">
            <option display="6.5 DOPI" id="module.driver.ospi_ram.pull_up_timing.clocks_7" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_7"/>
            <option display="7.5 DOPI" id="module.driver.ospi_ram.pull_up_timing.clocks_8" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_8"/>
            <option display="8.5 DOPI" id="module.driver.ospi_ram.pull_up_timing.clocks_9" value="OSPI_COMMAND_CS_PULLUP_CLOCKS_9"/>
        </property>
        <property default="module.driver.ospi_ram.pull_down_timing.clocks_3" display="Chip Select Timing Setting|Memory Mapped Read Pull-down Timing" id="module.driver.ospi_ram.mmr_pull_down_timing" description="Memory mapped read signal pull-down timing setting in OCTACLK units">
            <option display="2.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_3" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_3"/>
            <option display="3.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_4" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_4"/>
            <option display="4.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_5" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_5"/>
        </property>
        <property default="module.driver.ospi_ram.pull_down_timing.clocks_3" display="Chip Select Timing Setting|Memory Mapped Write Pull-down Timing" id="module.driver.ospi_ram.mmw_pull_down_timing" description="Memory mapped write signal pull-down timing setting in OCTACLK units">
            <option display="2.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_3" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_3"/>
            <option display="3.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_4" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_4"/>
            <option display="4.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_5" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_5"/>
        </property>
        <property default="module.driver.ospi_ram.pull_down_timing.clocks_3" display="Chip Select Timing Setting|Pull-down Timing" id="module.driver.ospi_ram.pull_down_timing" description="Signal pull-down timing setting in OCTACLK units">
            <option display="2.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_3" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_3"/>
            <option display="3.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_4" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_4"/>
            <option display="4.5 DOPI" id="module.driver.ospi_ram.pull_down_timing.clocks_5" value="OSPI_COMMAND_CS_PULLDOWN_CLOCKS_5"/>
        </property>
        <property default="4" display="Chip Select Maximum Low Time (us)" id="module.driver.ospi_ram.tcsm" description="Chip Select Maximum Low Time (tCSM).">
            <constraint display="Must be an integer between 0 to 511">(testInteger("${module.driver.ospi_ram.tcsm}") &amp;&amp; ${module.driver.ospi_ram.tcsm} &gt;= 0 &amp;&amp; ${module.driver.ospi_ram.tcsm} &lt;= 511)</constraint>
        </property>
        <property default="0" id="module.driver.ospi_ram.tcsm_reg_setting">
            <export><![CDATA[eval('' +
'/* INPUTS */' +
'    var peripheral_clock = ${board.clock.peripheral.ospi.pclka};' +
'    var ctwmx = ((peripheral_clock / 1000000) * ${module.driver.ospi_ram.tcsm}) - 16;' +
'' +
'    octaram_chip_select_maximum_period = " .ram_chip_select_max_period_setting = " + ctwmx.toString();' +
'    octaram_chip_select_maximum_period' +
'')
]]>            </export>
        </property>
        <peripheral name="OSPI RAM" component="ospi0" />
        <!-- For MCU's whose pinmapping files have been generated with MPC Designer Tool -->
        <peripheral name="OSPI RAM" component="ospi" />
        <header>
            extern const spi_flash_instance_t ${module.driver.ospi_ram.name};
            extern ospi_instance_ctrl_t ${module.driver.ospi_ram.name}_ctrl;
            extern const spi_flash_cfg_t ${module.driver.ospi_ram.name}_cfg;
        </header>
        <includes>
            #include &quot;r_ospi.h&quot;
            #include &quot;r_spi_flash_api.h&quot;
        </includes>
        <declarations>


ospi_instance_ctrl_t ${module.driver.ospi_ram.name}_ctrl;

static ospi_timing_setting_t ${module.driver.ospi_ram.name}_timing_settings =
{
    .command_to_command_interval = ${module.driver.ospi_ram.command_interval_clocks},
    .cs_pullup_lag               = ${module.driver.ospi_ram.pull_up_timing},
    .cs_pulldown_lead            = ${module.driver.ospi_ram.pull_down_timing}
};


static ospi_timing_setting_t ${module.driver.ospi_ram.name}_write_settings =
{
    .command_to_command_interval = ${module.driver.ospi_ram.mmw_command_interval_clocks},
    .cs_pullup_lag               = ${module.driver.ospi_ram.mmw_pull_up_timing},
    .cs_pulldown_lead            = ${module.driver.ospi_ram.mmw_pull_down_timing}
};

static ospi_timing_setting_t ${module.driver.ospi_ram.name}_read_settings =
{
    .command_to_command_interval = ${module.driver.ospi_ram.mmr_command_interval_clocks},
    .cs_pullup_lag               = ${module.driver.ospi_ram.mmr_pull_up_timing},
    .cs_pulldown_lead            = ${module.driver.ospi_ram.mmr_pull_down_timing}
};

const ospi_opi_command_set_t ${module.driver.ospi_ram.name}_opi_command_set =
{
    /* Tramslates to Memory Write Command */
    .dual_read_command    = ${module.driver.ospi_ram.dopi_read_command},
    /* Tramslates to Memory Read Command */
    .page_program_command = ${module.driver.ospi_ram.dopi_write_command},
    .command_bytes        = ${module.driver.ospi_ram.opi_command_length}
};
static const ospi_extended_cfg_t ${module.driver.ospi_ram.name}_extended_cfg =
{
    .channel      = (ospi_device_number_t)${module.driver.ospi_ram.channel},
    .memory_size = ${module.driver.ospi_ram.ram_size}U,
    .memory_type = OSPI_DEVICE_RAM,
    .data_latch_delay_clocks                    = ${module.driver.ospi_ram.data_latch_delay_setting},
    .om_dqs_enable_counter_dopi                 = ${module.driver.ospi_ram.om_dqs_enable_counter_dopi},
    .om_dqs_enable_counter_sopi                 = 0, /* Unused by OSPI RAM */
    .single_continuous_mode_read_idle_time      = ${module.driver.ospi_ram.scm_read_idle_time},
    .single_continuous_mode_write_idle_time     = ${module.driver.ospi_ram.scm_write_idle_time},
    .p_mem_mapped_read_timing_settings          = &amp;${module.driver.ospi_ram.name}_read_settings,
    .p_mem_mapped_write_timing_settings         = &amp;${module.driver.ospi_ram.name}_write_settings,
    .p_timing_settings                          = &amp;${module.driver.ospi_ram.name}_timing_settings,
    .p_opi_commands                             = &amp;${module.driver.ospi_ram.name}_opi_command_set,
    .opi_mem_read_dummy_cycles                  = ${module.driver.ospi_ram.mem_read_dummy_cycles},
    .opi_mem_write_dummy_cycles                 = ${module.driver.ospi_ram.mem_write_dummy_cycles},
    .opi_status_read_dummy_cycles               = 0, /* Unused by OSPI RAM */
    .p_autocalibration_preamble_pattern_addr    = (uint8_t *) ${module.driver.ospi_ram.auto_callibration_address},
    .dopi_byte_order                            = ${module.driver.ospi_ram.dopi_byte_order},
    ${module.driver.ospi_ram.tcsm_reg_setting},
#if OSPI_CFG_DMAC_SUPPORT_ENABLE
    .p_lower_lvl_transfer   = NULL
#endif
};
const spi_flash_cfg_t ${module.driver.ospi_ram.name}_cfg =
{
    .spi_protocol                = ${module.driver.ospi_ram.spi_protocol},
    .read_mode                   = SPI_FLASH_READ_MODE_STANDARD, /* Unused by OSPI RAM */
    .address_bytes               = ${module.driver.ospi_ram.address_bytes},
    .dummy_clocks                = SPI_FLASH_DUMMY_CLOCKS_DEFAULT, /* Unused by OSPI RAM */
    .page_program_address_lines  = (spi_flash_data_lines_t)0U, /* Unused by OSPI RAM */
    .write_status_bit            = 0U, /* Unused by OSPI RAM */
    .write_enable_bit            = 0U, /* Unused by OSPI RAM */
    .page_size_bytes             = ${module.driver.ospi_ram.single_continuous_size_bytes},
    .page_program_command        = 0U, /* Unused by OSPI RAM */
    .write_enable_command        = 0U, /* Unused by OSPI RAM */
    .status_command              = 0U, /* Unused by OSPI RAM */
    .read_command                = 0U, /* Unused by OSPI RAM */
    .xip_enter_command           = 0U, /* Unused by OSPI Flash */
    .xip_exit_command            = 0U, /* Unused by OSPI Flash */
    .erase_command_list_length   = 0U, /* Unused by OSPI RAM */
    .p_erase_command_list        = NULL, /* Unused by OSPI RAM */
    .p_extend                    = &amp;${module.driver.ospi_ram.name}_extended_cfg,
};
/** This structure encompasses everything that is needed to use an instance of this interface. */
const spi_flash_instance_t ${module.driver.ospi_ram.name} =
{
    .p_ctrl = &amp;${module.driver.ospi_ram.name}_ctrl,
    .p_cfg =  &amp;${module.driver.ospi_ram.name}_cfg,
    .p_api =  &amp;g_ospi_on_spi_flash,
};
        </declarations>
        <api configurable="true">
            <file>ra/fsp/inc/instances/r_ospi.h</file>
            <file>ra/fsp/inc/api/r_spi_flash_api.h</file>
        </api>
    </module>
</raModuleDescription>
